{% extends "base.html" %}
{% block title %}{{ bed_id }}{% endblock %}
{% block content %}
<div class="container">
  <div class="container">
    <div class="row">
      <div class="col">
        <h1>BED file: <code>{{ bed_id }}</code></h1>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col">
        <h2>Figures</h2>
      </div>
    </div>
  </div>
<div class="container">
  <div class="row">
    <div class="col">
      <table class="table table-borderless">
        <tbody>
          <tr>
            <td align="center">
              <a href="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_gccontent.pdf"><img src="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_gccontent.png" width=75%></img></a>
            </td>
            <td align="center">
              <a href="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_chrombins.pdf"><img src="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_chrombins.png" width=75%></img></a>
            </td>
            <td align="center">
              <a href="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_partitions.pdf"><img src="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_partitions.png" width=75%></img></a>
            </td>
            <td align="center">
              <a href="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_tssdist.pdf"><img src="{{ bedstat_output }}/{{ bed_id }}/{{ bed_id }}_tssdist.png" width=75%></img></a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col">
      <h2>Statistics</h2>
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-8">
      <ul id="block" class="list-group">
          {% for key, value in json.items() %}
            {% if key != "bedfile_path" %}
                {% if value[0] is not string and value[0] is not number %}
                <li class="list-group-item list-group-item-secondary"><b>{{ key }}: </b>
                  {% for val in value %}
                      <ul class="list-group list-group-flush">
                        {% for internal_key, internal_value in val.items() %}
                            <li class="list-group-item list-group-item-light"><b>{{ internal_key }}</b>: {{ internal_value }}</li>
                        {% endfor %}
                      </ul>
                  {% endfor %}
                {% else %}
                  <li class="list-group-item"><b>{{ key }}: </b>{{ value[0] }}</li>
                {% endif %}
              </tr>
            {% endif %}
          {% endfor %}
      </ul>
    </div>
    <div class="col-4">
      <h2>Links</h2>
      <ul>
        <li><a href='{{ bed_url }}&format=bed'>Raw bed file</a></li>
        <li><a href='{{ bed_url }}&format=json'>JSON metadata</a></li>
      </ul>
    </div>
  </div>
</div>

</div>
{% endblock %}